<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>SkyDash - Phaser 3 Edition</title>
    <style>
        /* [Standard Reset] ensures no CSS interferes with Phaser's internal layout */
        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            overflow: hidden;
            touch-action: none;
        }

        /* Dedicated container for the game */
        #game-container {
            width: 100%;
            height: 100%;
        }

        canvas {
            display: block;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.7);
        }
    </style>
    <!-- Phaser 3 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.min.js"></script>
</head>

<body>
    <div id="game-container"></div>

    <script type="importmap">
    {
        "imports": {
            "spessasynth_core": "./src/libs/spessasynth_core.js",
            "spessasynth_lib": "./src/libs/spessasynth_lib.js"
        }
    }
    </script>
    <script type="module">
        import { WorkletSynthesizer, Sequencer } from "spessasynth_lib";
        window.SpessaSynth = { Synthesizer: WorkletSynthesizer, Sequencer };
        console.log("[MIDI v5] SpessaSynth Engine Loaded");
    </script>

    <!-- Scripts Layering with Cache Busting -->
    <script src="./src/GameConfig.js?v=0520"></script>
    <script src="./src/managers/GameManager.js?v=0520"></script>
    <script src="./src/managers/I18nManager.js?v=0520"></script>
    <script src="./src/managers/MidiPlayer.js?v=0520"></script>
    <script src="./src/managers/SoundManager.js?v=0520"></script>
    <script src="./src/managers/VFXManager.js?v=0520"></script>
    <script src="./src/objects/Player.js?v=0520"></script>
    <script src="./src/objects/Stair.js?v=0520"></script>
    <script src="./src/scenes/BootScene.js?v=0520"></script>
    <script src="./src/scenes/IntroScene.js?v=0520"></script>
    <script src="./src/scenes/MainMenuScene.js?v=0520"></script>
    <script src="./src/scenes/GameScene.js?v=0520"></script>
    <script src="./src/scenes/GameOverScene.js?v=0520"></script>
    <script src="./src/scenes/SettingsScene.js?v=0520"></script>
    <script src="./src/scenes/LeaderboardScene.js?v=0520"></script>
    <script src="./src/main.js?v=0520"></script>
</body>

</html>